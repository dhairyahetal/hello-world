version: 2.1

# Use a package of configuration called an orb.

orbs:
  newman: postman/newman@0.0.2

# Orchestrate or schedule a set of jobs

jobs:
  example-job:
    docker:
      # replace with your preferred image
        - image: circleci/node:12
    steps:
      - checkout
      - run:
          name: Install dependencies
          command: npm install
      - run:
         name:tests
         command:npm tests   
      - newman/newman-run:
          collection: /tests/Restful_Booker_Collection.postman_collection.json                    
          environment: /tests/Restful_Booker_Environment.postman_environment.json           
workflows:
  example-workflow:
    jobs:
      - example-job
